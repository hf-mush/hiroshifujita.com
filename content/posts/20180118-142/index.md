---
title: "Windows IIS でリバースプロキシをする"
date: "2018-01-18 06:30:17+09:00"
draft: false
series: "blog"
---
最近、Windows サーバー上に IIS をインストールして運用する案件がいくつかありました。
　
その中で、リバースプロキシを使ってサーバーを共存させてみようっていう形をとることがあったので、自分のメモとしても、ここに残しておこうと思います。
　
<h2>IIS って？</h2>

僕もよく知らなかったんですが、Windows 上で動かすサーバーみたいなものです。
　
Apache とか、NGINX みたいなものです。
　
正式には「Microsoft Internet Information Services」という名称とのこと。
　
特徴は、Microsoft らしく、設定画面があって、そこで設定値をいじれるものです。
　
Apache や NGINX は設定ファイルというのがあって、自分で記述したり変更したりして設定を行なっていくので、とっつきにくいというのがあります。
　
Windows の十八番、GUI での操作なんで、とっつきやすいというのはいいところ。
　
ただ、インターフェースは使いづらかったりします。
　
普段、設定ファイルをいじいじしているので、そのせいかも。
　
<h2>リバースプロキシを設定するには</h2>

話は戻して、IIS でリバースプロキシを設定するには、ある追加機能をいれないといけません。
　
Application Request Routing というものです。
　
これは何をするかというと、ある端末からのアクセスを好みの設定により、どのサーバーにつなぐかを自動処理させることができます。
　
たとえば、http://xxxx.com というリクエストは A サーバー、http://xxx.com/api というリクエストは B サーバー、といった具合で URL での振り分けができたりします。
　
なにが嬉しいかというと、サイトと API を同じ筐体におきたい時なんかに役立ちます。
　
それがほとんどなのかな。笑
　
http://blog.shibata.tech/entry/2017/11/05/214253
　
結論、上記を参考に設定しました。
　
GUI って楽チン。